<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <title>URL Shortner</title>
  </head>
  <body>
    <%- include('./_header.ejs') %>
    <div class="container mt-5 position-relative" style="min-height: 100vh">
      <div class="d-flex justify-content-center">
        <form class="row g-3 mw-100 mb-5" action="/short" method="POST">
          <div class="col-md-12">
            <label for="validationCustom01" class="form-label">LONG URL</label>
            <input
              type="text"
              class="form-control"
              id="validationCustom01"
              ,
              name="longUrl"
              placeholder="URL"
              required
              autocomplete="off"
            />
          </div>

          <div class="col-12">
            <button class="btn btn-primary" type="submit">Short</button>
          </div>
        </form>
      </div>

      <table class="table table-hover mb-5">
        <thead>
          <tr>
            <th>#</th>
            <th>Short Url</th>
            <th>Long Url</th>
            <th>Click</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody>
          <%let i = 1; posts.forEach(function(post) { %>

          <tr>
            <th><%= i %></th>
            <td>
              <a href="<%= post.shortUrl %>">Short Url</a>
            </td>
            <td>
              <a href="<%= post.longUrl %>">Long Url</a>
            </td>
            <td>
              <p><%= post.clicks %></p>
            </td>
            <td>
              <a
                class="btn-close"
                type="button"
                aria-label="Close"
                style="width: 1px"
                href="<%= '/delete/' + post.shortUrl %>"
              ></a>
            </td>
          </tr>
          <% i++; }) %>
        </tbody>
      </table>
    </div>
    <!-- Copyright -->
    <div class="text-center p-4 bg-primary align-bottom">
      Â© 2021 Copyright:
      <a class="text-reset fw-bold" href="linkedin.com/in/thenishantsharma/">
        Nishant Sharma</a
      >
    </div>
    <!-- Copyright -->
  </body>
</html>
